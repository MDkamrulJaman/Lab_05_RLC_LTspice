Version 4
SHEET 1 880 680
WIRE 544 80 -128 80
WIRE 688 80 544 80
WIRE 800 80 688 80
WIRE -128 96 -128 80
WIRE 688 112 688 80
WIRE -624 160 -624 80
WIRE -128 192 -128 176
WIRE 544 192 544 80
WIRE 688 224 688 192
WIRE 800 224 688 224
WIRE 688 256 688 224
WIRE -624 352 -624 240
WIRE -128 352 -128 272
WIRE 128 352 -128 352
WIRE 208 352 128 352
WIRE 368 352 288 352
WIRE 544 352 544 256
WIRE 544 352 368 352
WIRE 688 352 688 336
WIRE 688 352 544 352
WIRE -128 384 -128 352
WIRE 128 512 128 352
WIRE 224 512 128 512
WIRE 368 512 368 352
WIRE 368 512 288 512
FLAG -128 384 0
FLAG 800 224 VR-
FLAG 224 400 0
FLAG 272 400 ctrl
FLAG -624 352 0
FLAG -624 80 ctrl
FLAG 800 80 VR+
SYMBOL res 672 96 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL voltage -128 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Ui}
SYMBOL ind 672 240 R0
SYMATTR InstName L1
SYMATTR Value {L_R}
SYMBOL sw 192 352 R270
SYMATTR InstName S1
SYMATTR Value myswitch
SYMBOL voltage -624 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(-10 10 0 1e-9 1e-9 {d*T} {T})
SYMBOL diode 224 528 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value mydiode
SYMBOL ind -112 192 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 10µH
SYMBOL cap 528 192 R0
SYMATTR InstName C1
SYMATTR Value {C_R}
TEXT -160 408 Left 2 !.tran 0 {5*T} 0 1e-9
TEXT -56 48 Left 2 ;Voltage Divider
TEXT -144 -80 Left 2 !.PARAM Ui=10
TEXT -144 -40 Left 2 !.step param R 1 3 1
TEXT -560 -120 Left 2 !.PARAM F=20e3
TEXT -560 -80 Left 2 !.PARAM d= 0.1
TEXT -560 -48 Left 2 !.PARAM  T={1/f}
TEXT -552 -216 Left 2 !.MODEL mySwitch SW(Ron=1e-3 Roff=100Meg Von=10 Voff=-10)
TEXT -552 -176 Left 2 !.MODEL myDiode D(Vfwd=0 Rs=1e-3 BV=100k Vrev=100k)
TEXT -144 -16 Left 2 !.PARAM L_R  = 10u
TEXT -144 8 Left 2 !.PARAM C_R = 254n
